"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/hades-auth";
exports.ids = ["vendor-chunks/hades-auth"];
exports.modules = {

/***/ "../../libraries/npm/node_modules/hades-auth/dist/authenticate.js":
/*!************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/authenticate.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"../../libraries/npm/node_modules/hades-auth/dist/globals.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\nasync function authenticate(body, params, jwt, public_key, pathname, use_cropped_body) {\n    let keys = [];\n    let unsorted_data = {};\n    let params_object = {};\n    if (params.length > 0) {\n        params_object = Object.fromEntries(new URLSearchParams(params));\n    }\n    unsorted_data = {\n        ...params_object\n    };\n    keys = Object.keys(unsorted_data).sort();\n    let data = {};\n    await keys.forEach((key) => {\n        if (key != \"authenticator_metadata\" && key != \"authenticator_JWT_Token\") {\n            data[key] = unsorted_data[key];\n        }\n    });\n    // Make sure deviceid and JWT_Token are specified.\n    if ((0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.isNullOrWhiteSpace)(jwt)) {\n        throw \"JWT is null or whitespace.\";\n    }\n    // Check the pathname inside the signed-object, it needs to match the current pathname, this makes it more annoying for attackers to re-play signed packets. Such as if 2 API endpoints use similar properties, it's locked to the API endpoint is was signed for.\n    const data_pathname = data.authenticator_pathname;\n    if (!(0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.isNullOrWhiteSpace)(data_pathname)) {\n        if (data_pathname != pathname) {\n            throw `Signed URL is \"${data_pathname}\" and does not match \"${pathname}\"`;\n        }\n    }\n    const verify_jwt_status = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.VerifyJWT)(jwt, public_key); // an error will throw here if the request is unauthorized.\n    let sha512_authed_checksum = '';\n    let body_sha512_authed_checksum = '';\n    if (typeof verify_jwt_status === 'string') {\n        throw \"VerifyJWT output was a string for some reason.\";\n    }\n    else {\n        const sha512_authed_checksum_v = verify_jwt_status.checksum.toString();\n        sha512_authed_checksum = sha512_authed_checksum_v;\n        if (verify_jwt_status.body_checksum) {\n            body_sha512_authed_checksum = verify_jwt_status.body_checksum.toString();\n        }\n        if (use_cropped_body == true) {\n            if (!verify_jwt_status.just_file_sha512) {\n                throw \"use_cropped_body is true - however, jwt.just_file_sha512 is null.\";\n            }\n            body_sha512_authed_checksum = verify_jwt_status.just_file_sha512.toString();\n        }\n    }\n    const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHash('sha512');\n    hash.update(JSON.stringify(data));\n    const output_sha512_for_unverified_data = hash.digest('hex');\n    // console.log(\"DATAAA444 sig\", JSON.stringify(data));\n    if (sha512_authed_checksum != output_sha512_for_unverified_data) {\n        // data object does not match checksum in JWT.\n        throw \"Incoming data does not match checksum in JWT packet.\";\n    }\n    // Ignore the rest of the body and just use the provided field in formdata (not recommended, unless you can't get the full form-data for some reason)\n    if (body) {\n        if (!body_sha512_authed_checksum) {\n            throw \"Body was provided - however, jwt.body_checksum is null.\";\n        }\n        const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHash('sha512');\n        const jsonOrFormV = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.JSONorForm)(body);\n        if (jsonOrFormV == \"JSON\") {\n            console.log(\"DATA1\", JSON.stringify(body));\n            hash.update(JSON.stringify(body));\n        }\n        else if (jsonOrFormV != \"FormData\") {\n            console.log(\"DATA2\", body);\n            hash.update(body);\n        }\n        const output_sha512_for_unverified_data = hash.digest('hex');\n        console.log(`${sha512_authed_checksum} != ${output_sha512_for_unverified_data}`);\n        if (body_sha512_authed_checksum != output_sha512_for_unverified_data) {\n            // data object does not match checksum in JWT.\n            throw \"Incoming body data does not match checksum in JWT packet.\";\n        }\n    }\n    return true;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (authenticate);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2F1dGhlbnRpY2F0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUU7QUFDeEM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLCtEQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0RBQWtCO0FBQzNCO0FBQ0Esb0NBQW9DLGNBQWMsd0JBQXdCLFNBQVM7QUFDbkY7QUFDQTtBQUNBLG9DQUFvQyxzREFBUyxtQkFBbUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhDQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQWlCO0FBQ3RDLGtDQUFrQyx1REFBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0JBQXdCLEtBQUssa0NBQWtDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9hdXRoZW50aWNhdGUuanM/ZDMwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKU09Ob3JGb3JtLCBWZXJpZnlKV1QsIGlzTnVsbE9yV2hpdGVTcGFjZSB9IGZyb20gXCIuL2dsb2JhbHMuanNcIjtcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tICdjcnlwdG8nO1xuYXN5bmMgZnVuY3Rpb24gYXV0aGVudGljYXRlKGJvZHksIHBhcmFtcywgand0LCBwdWJsaWNfa2V5LCBwYXRobmFtZSwgdXNlX2Nyb3BwZWRfYm9keSkge1xuICAgIGxldCBrZXlzID0gW107XG4gICAgbGV0IHVuc29ydGVkX2RhdGEgPSB7fTtcbiAgICBsZXQgcGFyYW1zX29iamVjdCA9IHt9O1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXJhbXNfb2JqZWN0ID0gT2JqZWN0LmZyb21FbnRyaWVzKG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSk7XG4gICAgfVxuICAgIHVuc29ydGVkX2RhdGEgPSB7XG4gICAgICAgIC4uLnBhcmFtc19vYmplY3RcbiAgICB9O1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyh1bnNvcnRlZF9kYXRhKS5zb3J0KCk7XG4gICAgbGV0IGRhdGEgPSB7fTtcbiAgICBhd2FpdCBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5ICE9IFwiYXV0aGVudGljYXRvcl9tZXRhZGF0YVwiICYmIGtleSAhPSBcImF1dGhlbnRpY2F0b3JfSldUX1Rva2VuXCIpIHtcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHVuc29ydGVkX2RhdGFba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIE1ha2Ugc3VyZSBkZXZpY2VpZCBhbmQgSldUX1Rva2VuIGFyZSBzcGVjaWZpZWQuXG4gICAgaWYgKGlzTnVsbE9yV2hpdGVTcGFjZShqd3QpKSB7XG4gICAgICAgIHRocm93IFwiSldUIGlzIG51bGwgb3Igd2hpdGVzcGFjZS5cIjtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdGhlIHBhdGhuYW1lIGluc2lkZSB0aGUgc2lnbmVkLW9iamVjdCwgaXQgbmVlZHMgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgcGF0aG5hbWUsIHRoaXMgbWFrZXMgaXQgbW9yZSBhbm5veWluZyBmb3IgYXR0YWNrZXJzIHRvIHJlLXBsYXkgc2lnbmVkIHBhY2tldHMuIFN1Y2ggYXMgaWYgMiBBUEkgZW5kcG9pbnRzIHVzZSBzaW1pbGFyIHByb3BlcnRpZXMsIGl0J3MgbG9ja2VkIHRvIHRoZSBBUEkgZW5kcG9pbnQgaXMgd2FzIHNpZ25lZCBmb3IuXG4gICAgY29uc3QgZGF0YV9wYXRobmFtZSA9IGRhdGEuYXV0aGVudGljYXRvcl9wYXRobmFtZTtcbiAgICBpZiAoIWlzTnVsbE9yV2hpdGVTcGFjZShkYXRhX3BhdGhuYW1lKSkge1xuICAgICAgICBpZiAoZGF0YV9wYXRobmFtZSAhPSBwYXRobmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgYFNpZ25lZCBVUkwgaXMgXCIke2RhdGFfcGF0aG5hbWV9XCIgYW5kIGRvZXMgbm90IG1hdGNoIFwiJHtwYXRobmFtZX1cImA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdmVyaWZ5X2p3dF9zdGF0dXMgPSBhd2FpdCBWZXJpZnlKV1Qoand0LCBwdWJsaWNfa2V5KTsgLy8gYW4gZXJyb3Igd2lsbCB0aHJvdyBoZXJlIGlmIHRoZSByZXF1ZXN0IGlzIHVuYXV0aG9yaXplZC5cbiAgICBsZXQgc2hhNTEyX2F1dGhlZF9jaGVja3N1bSA9ICcnO1xuICAgIGxldCBib2R5X3NoYTUxMl9hdXRoZWRfY2hlY2tzdW0gPSAnJztcbiAgICBpZiAodHlwZW9mIHZlcmlmeV9qd3Rfc3RhdHVzID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBcIlZlcmlmeUpXVCBvdXRwdXQgd2FzIGEgc3RyaW5nIGZvciBzb21lIHJlYXNvbi5cIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHNoYTUxMl9hdXRoZWRfY2hlY2tzdW1fdiA9IHZlcmlmeV9qd3Rfc3RhdHVzLmNoZWNrc3VtLnRvU3RyaW5nKCk7XG4gICAgICAgIHNoYTUxMl9hdXRoZWRfY2hlY2tzdW0gPSBzaGE1MTJfYXV0aGVkX2NoZWNrc3VtX3Y7XG4gICAgICAgIGlmICh2ZXJpZnlfand0X3N0YXR1cy5ib2R5X2NoZWNrc3VtKSB7XG4gICAgICAgICAgICBib2R5X3NoYTUxMl9hdXRoZWRfY2hlY2tzdW0gPSB2ZXJpZnlfand0X3N0YXR1cy5ib2R5X2NoZWNrc3VtLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZV9jcm9wcGVkX2JvZHkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKCF2ZXJpZnlfand0X3N0YXR1cy5qdXN0X2ZpbGVfc2hhNTEyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJ1c2VfY3JvcHBlZF9ib2R5IGlzIHRydWUgLSBob3dldmVyLCBqd3QuanVzdF9maWxlX3NoYTUxMiBpcyBudWxsLlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keV9zaGE1MTJfYXV0aGVkX2NoZWNrc3VtID0gdmVyaWZ5X2p3dF9zdGF0dXMuanVzdF9maWxlX3NoYTUxMi50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhNTEyJyk7XG4gICAgaGFzaC51cGRhdGUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIGNvbnN0IG91dHB1dF9zaGE1MTJfZm9yX3VudmVyaWZpZWRfZGF0YSA9IGhhc2guZGlnZXN0KCdoZXgnKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkRBVEFBQTQ0NCBzaWdcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIGlmIChzaGE1MTJfYXV0aGVkX2NoZWNrc3VtICE9IG91dHB1dF9zaGE1MTJfZm9yX3VudmVyaWZpZWRfZGF0YSkge1xuICAgICAgICAvLyBkYXRhIG9iamVjdCBkb2VzIG5vdCBtYXRjaCBjaGVja3N1bSBpbiBKV1QuXG4gICAgICAgIHRocm93IFwiSW5jb21pbmcgZGF0YSBkb2VzIG5vdCBtYXRjaCBjaGVja3N1bSBpbiBKV1QgcGFja2V0LlwiO1xuICAgIH1cbiAgICAvLyBJZ25vcmUgdGhlIHJlc3Qgb2YgdGhlIGJvZHkgYW5kIGp1c3QgdXNlIHRoZSBwcm92aWRlZCBmaWVsZCBpbiBmb3JtZGF0YSAobm90IHJlY29tbWVuZGVkLCB1bmxlc3MgeW91IGNhbid0IGdldCB0aGUgZnVsbCBmb3JtLWRhdGEgZm9yIHNvbWUgcmVhc29uKVxuICAgIGlmIChib2R5KSB7XG4gICAgICAgIGlmICghYm9keV9zaGE1MTJfYXV0aGVkX2NoZWNrc3VtKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkJvZHkgd2FzIHByb3ZpZGVkIC0gaG93ZXZlciwgand0LmJvZHlfY2hlY2tzdW0gaXMgbnVsbC5cIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTUxMicpO1xuICAgICAgICBjb25zdCBqc29uT3JGb3JtViA9IGF3YWl0IEpTT05vckZvcm0oYm9keSk7XG4gICAgICAgIGlmIChqc29uT3JGb3JtViA9PSBcIkpTT05cIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEQVRBMVwiLCBKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgICAgICBoYXNoLnVwZGF0ZShKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoanNvbk9yRm9ybVYgIT0gXCJGb3JtRGF0YVwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRBVEEyXCIsIGJvZHkpO1xuICAgICAgICAgICAgaGFzaC51cGRhdGUoYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0cHV0X3NoYTUxMl9mb3JfdW52ZXJpZmllZF9kYXRhID0gaGFzaC5kaWdlc3QoJ2hleCcpO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHtzaGE1MTJfYXV0aGVkX2NoZWNrc3VtfSAhPSAke291dHB1dF9zaGE1MTJfZm9yX3VudmVyaWZpZWRfZGF0YX1gKTtcbiAgICAgICAgaWYgKGJvZHlfc2hhNTEyX2F1dGhlZF9jaGVja3N1bSAhPSBvdXRwdXRfc2hhNTEyX2Zvcl91bnZlcmlmaWVkX2RhdGEpIHtcbiAgICAgICAgICAgIC8vIGRhdGEgb2JqZWN0IGRvZXMgbm90IG1hdGNoIGNoZWNrc3VtIGluIEpXVC5cbiAgICAgICAgICAgIHRocm93IFwiSW5jb21pbmcgYm9keSBkYXRhIGRvZXMgbm90IG1hdGNoIGNoZWNrc3VtIGluIEpXVCBwYWNrZXQuXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZGVmYXVsdCBhdXRoZW50aWNhdGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/authenticate.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/fetch_wrapper.js":
/*!*************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/fetch_wrapper.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ fetch_wrapper)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"../../libraries/npm/node_modules/hades-auth/dist/globals.js\");\n/* harmony import */ var _sign_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sign.js */ \"../../libraries/npm/node_modules/hades-auth/dist/sign.js\");\n\n\nasync function fetch_wrapper(url, properties, deviceid, private_key) {\n    if (!url) {\n        throw `url is ${url}`;\n    }\n    let urlData = new URL(url);\n    const pathname = urlData.pathname;\n    const searchParams = urlData.searchParams;\n    // Convert the search parameters to an object\n    let paramsObj = {};\n    for (const [key, value] of searchParams.entries()) {\n        paramsObj[key] = value;\n    }\n    let jsonOrForm = null;\n    let addon = {\n        deviceid: deviceid,\n        authenticator_pathname: pathname\n    };\n    let data_to_be_hashed_for_signing = {\n        ...paramsObj,\n        ...addon\n    };\n    let token = null;\n    if (properties && properties.body) {\n        const jsonOrFormV = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.JSONorForm)(properties.body);\n        jsonOrForm = jsonOrFormV;\n    }\n    if (properties && properties.body && properties.method && properties.method.toLowerCase() == \"post\") {\n        // Gotta JSON.parse the body. Otherwise it comes out as a string, and the other end reads it as an object.\n        let output = properties.body;\n        if (jsonOrForm == \"JSON\") {\n            output = JSON.parse(properties.body);\n        }\n        token = await (0,_sign_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(data_to_be_hashed_for_signing, output, private_key, properties.only_validate_field_in_formdata_for_body);\n    }\n    else {\n        token = await (0,_sign_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(data_to_be_hashed_for_signing, null, private_key, null);\n    }\n    paramsObj = {\n        ...token.metadata,\n        authenticator_JWT_Token: token.jwt\n    };\n    let formDataOutput = new URLSearchParams(paramsObj);\n    let outputUrl = `${urlData.origin}${urlData.pathname}`;\n    if (formDataOutput.toString() && formDataOutput.toString().length > 0) {\n        outputUrl = outputUrl + \"?\" + formDataOutput.toString();\n    }\n    return await fetch(outputUrl, properties);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2ZldGNoX3dyYXBwZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBQ2I7QUFDZDtBQUNmO0FBQ0Esd0JBQXdCLElBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1REFBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9EQUFJO0FBQzFCO0FBQ0E7QUFDQSxzQkFBc0Isb0RBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGVBQWUsRUFBRSxpQkFBaUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9saWJyYXJpZXMvbnBtL25vZGVfbW9kdWxlcy9oYWRlcy1hdXRoL2Rpc3QvZmV0Y2hfd3JhcHBlci5qcz9hYzQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpTT05vckZvcm0gfSBmcm9tIFwiLi9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgc2lnbiBmcm9tIFwiLi9zaWduLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBmZXRjaF93cmFwcGVyKHVybCwgcHJvcGVydGllcywgZGV2aWNlaWQsIHByaXZhdGVfa2V5KSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgICAgdGhyb3cgYHVybCBpcyAke3VybH1gO1xuICAgIH1cbiAgICBsZXQgdXJsRGF0YSA9IG5ldyBVUkwodXJsKTtcbiAgICBjb25zdCBwYXRobmFtZSA9IHVybERhdGEucGF0aG5hbWU7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXJsRGF0YS5zZWFyY2hQYXJhbXM7XG4gICAgLy8gQ29udmVydCB0aGUgc2VhcmNoIHBhcmFtZXRlcnMgdG8gYW4gb2JqZWN0XG4gICAgbGV0IHBhcmFtc09iaiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgcGFyYW1zT2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IGpzb25PckZvcm0gPSBudWxsO1xuICAgIGxldCBhZGRvbiA9IHtcbiAgICAgICAgZGV2aWNlaWQ6IGRldmljZWlkLFxuICAgICAgICBhdXRoZW50aWNhdG9yX3BhdGhuYW1lOiBwYXRobmFtZVxuICAgIH07XG4gICAgbGV0IGRhdGFfdG9fYmVfaGFzaGVkX2Zvcl9zaWduaW5nID0ge1xuICAgICAgICAuLi5wYXJhbXNPYmosXG4gICAgICAgIC4uLmFkZG9uXG4gICAgfTtcbiAgICBsZXQgdG9rZW4gPSBudWxsO1xuICAgIGlmIChwcm9wZXJ0aWVzICYmIHByb3BlcnRpZXMuYm9keSkge1xuICAgICAgICBjb25zdCBqc29uT3JGb3JtViA9IGF3YWl0IEpTT05vckZvcm0ocHJvcGVydGllcy5ib2R5KTtcbiAgICAgICAganNvbk9yRm9ybSA9IGpzb25PckZvcm1WO1xuICAgIH1cbiAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLmJvZHkgJiYgcHJvcGVydGllcy5tZXRob2QgJiYgcHJvcGVydGllcy5tZXRob2QudG9Mb3dlckNhc2UoKSA9PSBcInBvc3RcIikge1xuICAgICAgICAvLyBHb3R0YSBKU09OLnBhcnNlIHRoZSBib2R5LiBPdGhlcndpc2UgaXQgY29tZXMgb3V0IGFzIGEgc3RyaW5nLCBhbmQgdGhlIG90aGVyIGVuZCByZWFkcyBpdCBhcyBhbiBvYmplY3QuXG4gICAgICAgIGxldCBvdXRwdXQgPSBwcm9wZXJ0aWVzLmJvZHk7XG4gICAgICAgIGlmIChqc29uT3JGb3JtID09IFwiSlNPTlwiKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBKU09OLnBhcnNlKHByb3BlcnRpZXMuYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW4gPSBhd2FpdCBzaWduKGRhdGFfdG9fYmVfaGFzaGVkX2Zvcl9zaWduaW5nLCBvdXRwdXQsIHByaXZhdGVfa2V5LCBwcm9wZXJ0aWVzLm9ubHlfdmFsaWRhdGVfZmllbGRfaW5fZm9ybWRhdGFfZm9yX2JvZHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdG9rZW4gPSBhd2FpdCBzaWduKGRhdGFfdG9fYmVfaGFzaGVkX2Zvcl9zaWduaW5nLCBudWxsLCBwcml2YXRlX2tleSwgbnVsbCk7XG4gICAgfVxuICAgIHBhcmFtc09iaiA9IHtcbiAgICAgICAgLi4udG9rZW4ubWV0YWRhdGEsXG4gICAgICAgIGF1dGhlbnRpY2F0b3JfSldUX1Rva2VuOiB0b2tlbi5qd3RcbiAgICB9O1xuICAgIGxldCBmb3JtRGF0YU91dHB1dCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zT2JqKTtcbiAgICBsZXQgb3V0cHV0VXJsID0gYCR7dXJsRGF0YS5vcmlnaW59JHt1cmxEYXRhLnBhdGhuYW1lfWA7XG4gICAgaWYgKGZvcm1EYXRhT3V0cHV0LnRvU3RyaW5nKCkgJiYgZm9ybURhdGFPdXRwdXQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIG91dHB1dFVybCA9IG91dHB1dFVybCArIFwiP1wiICsgZm9ybURhdGFPdXRwdXQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGZldGNoKG91dHB1dFVybCwgcHJvcGVydGllcyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/fetch_wrapper.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/file/binary/get_file_binary.js":
/*!***************************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/file/binary/get_file_binary.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction get_file_binary(file) {\n    return new Promise((resolve, reject) => {\n        var reader = new FileReader();\n        reader.onload = function () {\n            resolve(reader.result?.toString());\n        };\n        reader.readAsText(file);\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (get_file_binary);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2ZpbGUvYmluYXJ5L2dldF9maWxlX2JpbmFyeS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpRUFBZSxlQUFlLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2ZpbGUvYmluYXJ5L2dldF9maWxlX2JpbmFyeS5qcz9kMDViIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldF9maWxlX2JpbmFyeShmaWxlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQ/LnRvU3RyaW5nKCkpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGdldF9maWxlX2JpbmFyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/file/binary/get_file_binary.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/generate_new_credentials.js":
/*!************************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/generate_new_credentials.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ generate_new_credentials)\n/* harmony export */ });\nfunction ab2str(buf) {\n    const uintArray = new Uint8Array(buf);\n    const regularArray = Array.from(uintArray);\n    return String.fromCharCode.apply(null, regularArray);\n}\nasync function generate_new_credentials() {\n    const keyPair = await crypto.subtle.generateKey({\n        name: \"ECDSA\",\n        namedCurve: \"P-521\",\n    }, true, [\"sign\", \"verify\"]);\n    const publicexported = await crypto.subtle.exportKey(\"spki\", keyPair.publicKey);\n    const publicexportedAsString = ab2str(publicexported);\n    const publicexportedAsBase64 = btoa(publicexportedAsString);\n    const privateexported = await crypto.subtle.exportKey(\"pkcs8\", keyPair.privateKey);\n    const privateexportedAsString = ab2str(privateexported);\n    const privateexportedAsBase64 = btoa(privateexportedAsString);\n    return {\n        public_key: `-----BEGIN PUBLIC KEY-----\n${publicexportedAsBase64}\n-----END PUBLIC KEY-----`,\n        private_key: `-----BEGIN PRIVATE KEY-----\n${privateexportedAsBase64}\n-----END PRIVATE KEY-----`\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2dlbmVyYXRlX25ld19jcmVkZW50aWFscy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2dlbmVyYXRlX25ld19jcmVkZW50aWFscy5qcz82ZTUyIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFiMnN0cihidWYpIHtcbiAgICBjb25zdCB1aW50QXJyYXkgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIGNvbnN0IHJlZ3VsYXJBcnJheSA9IEFycmF5LmZyb20odWludEFycmF5KTtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCByZWd1bGFyQXJyYXkpO1xufVxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVfbmV3X2NyZWRlbnRpYWxzKCkge1xuICAgIGNvbnN0IGtleVBhaXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmdlbmVyYXRlS2V5KHtcbiAgICAgICAgbmFtZTogXCJFQ0RTQVwiLFxuICAgICAgICBuYW1lZEN1cnZlOiBcIlAtNTIxXCIsXG4gICAgfSwgdHJ1ZSwgW1wic2lnblwiLCBcInZlcmlmeVwiXSk7XG4gICAgY29uc3QgcHVibGljZXhwb3J0ZWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmV4cG9ydEtleShcInNwa2lcIiwga2V5UGFpci5wdWJsaWNLZXkpO1xuICAgIGNvbnN0IHB1YmxpY2V4cG9ydGVkQXNTdHJpbmcgPSBhYjJzdHIocHVibGljZXhwb3J0ZWQpO1xuICAgIGNvbnN0IHB1YmxpY2V4cG9ydGVkQXNCYXNlNjQgPSBidG9hKHB1YmxpY2V4cG9ydGVkQXNTdHJpbmcpO1xuICAgIGNvbnN0IHByaXZhdGVleHBvcnRlZCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KFwicGtjczhcIiwga2V5UGFpci5wcml2YXRlS2V5KTtcbiAgICBjb25zdCBwcml2YXRlZXhwb3J0ZWRBc1N0cmluZyA9IGFiMnN0cihwcml2YXRlZXhwb3J0ZWQpO1xuICAgIGNvbnN0IHByaXZhdGVleHBvcnRlZEFzQmFzZTY0ID0gYnRvYShwcml2YXRlZXhwb3J0ZWRBc1N0cmluZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHVibGljX2tleTogYC0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG4ke3B1YmxpY2V4cG9ydGVkQXNCYXNlNjR9XG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1gLFxuICAgICAgICBwcml2YXRlX2tleTogYC0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuJHtwcml2YXRlZXhwb3J0ZWRBc0Jhc2U2NH1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1gXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/generate_new_credentials.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/globals.js":
/*!*******************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/globals.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSONorForm: () => (/* binding */ JSONorForm),\n/* harmony export */   VerifyJWT: () => (/* binding */ VerifyJWT),\n/* harmony export */   generateRandomID: () => (/* binding */ generateRandomID),\n/* harmony export */   get_formdata_field_hash: () => (/* binding */ get_formdata_field_hash),\n/* harmony export */   importEllipticPrivateKey: () => (/* binding */ importEllipticPrivateKey),\n/* harmony export */   importEllipticPublicKey: () => (/* binding */ importEllipticPublicKey),\n/* harmony export */   isNullOrWhiteSpace: () => (/* binding */ isNullOrWhiteSpace),\n/* harmony export */   signJWT: () => (/* binding */ signJWT)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"../../libraries/npm/node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"../../libraries/npm/node_modules/jose/dist/node/esm/key/import.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"../../libraries/npm/node_modules/jose/dist/node/esm/jwt/sign.js\");\n/* harmony import */ var _file_binary_get_file_binary_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./file/binary/get_file_binary.js */ \"../../libraries/npm/node_modules/hades-auth/dist/file/binary/get_file_binary.js\");\n\n\n\nfunction isNullOrWhiteSpace(str) {\n    if (str === null || str === undefined) {\n        return true;\n    }\n    if (str === 'null' || str === 'undefined') {\n        return true;\n    }\n    if (str.trim().length === 0) {\n        return true;\n    }\n    return false;\n}\nfunction generateRandomID() {\n    let random_string = '';\n    const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    for (let i = 0; i < characters.length; i++) {\n        random_string += characters.charAt(Math.floor(Math.random() * characters.length));\n    }\n    return random_string.slice(0, 20) + new Date().getTime();\n}\nfunction importEllipticPublicKey(pem) {\n    if (!pem.startsWith(\"-----BEGIN PUBLIC KEY-----\")) {\n        pem = \"-----BEGIN PUBLIC KEY-----\" + pem;\n    }\n    if (!pem.endsWith(\"-----END PUBLIC KEY-----\")) {\n        pem = pem + \"-----END PUBLIC KEY-----\";\n    }\n    const pemHeader = \"-----BEGIN PUBLIC KEY-----\";\n    const pemFooter = \"-----END PUBLIC KEY-----\";\n    const pem_contents = pem.substring(pemHeader.length, pem.length - pemFooter.length);\n    const binaryDerString = atob(pem_contents);\n    const binaryDer = str2ab(binaryDerString);\n    return crypto.subtle.importKey(\"spki\", binaryDer, {\n        name: \"ECDSA\",\n        namedCurve: \"P-521\",\n    }, true, [\"verify\"]);\n}\nfunction importEllipticPrivateKey(pem) {\n    if (!pem.startsWith(\"-----BEGIN PRIVATE KEY-----\")) {\n        pem = \"-----BEGIN PRIVATE KEY-----\" + pem;\n    }\n    if (!pem.endsWith(\"-----END PRIVATE KEY-----\")) {\n        pem = pem + \"-----END PRIVATE KEY-----\";\n    }\n    const pemHeader = \"-----BEGIN PRIVATE KEY-----\";\n    const pemFooter = \"-----END PRIVATE KEY-----\";\n    const pem_contents = pem.substring(pemHeader.length, pem.length - pemFooter.length);\n    const binaryDerString = atob(pem_contents);\n    const binaryDer = str2ab(binaryDerString);\n    return crypto.subtle.importKey(\"pkcs8\", binaryDer, {\n        name: \"ECDSA\",\n        hash: \"SHA-256\",\n        namedCurve: \"P-521\"\n    }, true, [\"sign\"]);\n}\nfunction str2ab(str) {\n    const buf = new ArrayBuffer(str.length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0, strLen = str.length; i < strLen; i++) {\n        bufView[i] = str.charCodeAt(i);\n    }\n    return buf;\n}\nasync function VerifyJWT(jwt_string, public_key) {\n    if (isNullOrWhiteSpace(jwt_string)) {\n        throw \"jwt is null.\";\n    }\n    if (isNullOrWhiteSpace(public_key)) {\n        throw \"public_key is null or whitespace\";\n    }\n    const publicKeyPem = '-----BEGIN PUBLIC KEY-----\\n' +\n        `${public_key}\\n` +\n        '-----END PUBLIC KEY-----\\n';\n    const decoded_data = await jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify(jwt_string, publicKeyPem);\n    return decoded_data;\n}\nasync function signJWT(data, privateKeyV) {\n    const options = {\n        algorithm: 'ES512',\n        compact: true,\n        fields: { typ: 'JWT' }\n    };\n    const privateKeyPem = '-----BEGIN PRIVATE KEY-----\\n' +\n        `${privateKeyV.replace(\"-----BEGIN PRIVATE KEY-----\", \"\").replace(\"-----END PRIVATE KEY-----\", \"\")}\\n` +\n        '-----END PRIVATE KEY-----\\n';\n    const privateKey = await (0,jose__WEBPACK_IMPORTED_MODULE_2__.importPKCS8)(privateKeyPem, \"ES512\");\n    const jwt = await new jose__WEBPACK_IMPORTED_MODULE_3__.SignJWT(data) // ECDSA with P-521 curve\n        .setProtectedHeader({ alg: 'ES512' }) // Optional if you want to specify headers\n        .sign(privateKey);\n    return jwt;\n}\nasync function JSONorForm(variable) {\n    if (variable instanceof FormData) {\n        return 'FormData';\n    }\n    // Check if it's JSON\n    try {\n        JSON.parse(JSON.stringify(variable));\n        return 'JSON';\n    }\n    catch (error) {\n    }\n    return null;\n}\nasync function get_formdata_field_hash(field, body) {\n    let hashHex_file = null;\n    if (!body.get(field)) {\n        throw `body not provided: ${field}`;\n    }\n    let is_file = false;\n    try {\n        await (0,_file_binary_get_file_binary_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(body.get(field));\n        is_file = true;\n    }\n    catch (error) {\n    }\n    console.log(\"HM\", body.get(field));\n    let encoding;\n    if (is_file == true) {\n        encoding = await (0,_file_binary_get_file_binary_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(body.get(field));\n    }\n    console.log(\"ENCODING\", encoding);\n    const hashData_file = new TextEncoder().encode(encoding);\n    let hashBuffer_file = null;\n    if (typeof window === 'undefined' && typeof process === 'object') {\n        hashBuffer_file = await crypto.subtle.digest(\"SHA-512\", hashData_file);\n    }\n    else if (typeof window !== 'undefined') {\n        hashBuffer_file = hashBuffer_file = await window.crypto.subtle.digest(\"SHA-512\", hashData_file);\n    }\n    else {\n        throw 'FileReader is not supported in this environment.';\n    }\n    const hashArray_file = Array.from(new Uint8Array(hashBuffer_file));\n    hashHex_file = hashArray_file.map(byte => byte.toString(16).padStart(2, '0')).join('');\n    return hashHex_file;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2dsb2JhbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ1E7QUFDbUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFlBQVk7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsK0JBQStCLGdEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsV0FBVyxnR0FBZ0c7QUFDM0c7QUFDQSw2QkFBNkIsaURBQVc7QUFDeEMsMEJBQTBCLHlDQUFPO0FBQ2pDLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE1BQU07QUFDMUM7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRUFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyRUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzRKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9nbG9iYWxzLmpzPzM2YjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBTaWduSldULCBpbXBvcnRQS0NTOCB9IGZyb20gXCJqb3NlXCI7XG5pbXBvcnQgZ2V0X2ZpbGVfYmluYXJ5IGZyb20gJy4vZmlsZS9iaW5hcnkvZ2V0X2ZpbGVfYmluYXJ5LmpzJztcbmZ1bmN0aW9uIGlzTnVsbE9yV2hpdGVTcGFjZShzdHIpIHtcbiAgICBpZiAoc3RyID09PSBudWxsIHx8IHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3RyID09PSAnbnVsbCcgfHwgc3RyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHN0ci50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUlEKCkge1xuICAgIGxldCByYW5kb21fc3RyaW5nID0gJyc7XG4gICAgY29uc3QgY2hhcmFjdGVycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICByYW5kb21fc3RyaW5nICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnMubGVuZ3RoKSk7XG4gICAgfVxuICAgIHJldHVybiByYW5kb21fc3RyaW5nLnNsaWNlKDAsIDIwKSArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufVxuZnVuY3Rpb24gaW1wb3J0RWxsaXB0aWNQdWJsaWNLZXkocGVtKSB7XG4gICAgaWYgKCFwZW0uc3RhcnRzV2l0aChcIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXCIpKSB7XG4gICAgICAgIHBlbSA9IFwiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cIiArIHBlbTtcbiAgICB9XG4gICAgaWYgKCFwZW0uZW5kc1dpdGgoXCItLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cIikpIHtcbiAgICAgICAgcGVtID0gcGVtICsgXCItLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cIjtcbiAgICB9XG4gICAgY29uc3QgcGVtSGVhZGVyID0gXCItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVwiO1xuICAgIGNvbnN0IHBlbUZvb3RlciA9IFwiLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXCI7XG4gICAgY29uc3QgcGVtX2NvbnRlbnRzID0gcGVtLnN1YnN0cmluZyhwZW1IZWFkZXIubGVuZ3RoLCBwZW0ubGVuZ3RoIC0gcGVtRm9vdGVyLmxlbmd0aCk7XG4gICAgY29uc3QgYmluYXJ5RGVyU3RyaW5nID0gYXRvYihwZW1fY29udGVudHMpO1xuICAgIGNvbnN0IGJpbmFyeURlciA9IHN0cjJhYihiaW5hcnlEZXJTdHJpbmcpO1xuICAgIHJldHVybiBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcInNwa2lcIiwgYmluYXJ5RGVyLCB7XG4gICAgICAgIG5hbWU6IFwiRUNEU0FcIixcbiAgICAgICAgbmFtZWRDdXJ2ZTogXCJQLTUyMVwiLFxuICAgIH0sIHRydWUsIFtcInZlcmlmeVwiXSk7XG59XG5mdW5jdGlvbiBpbXBvcnRFbGxpcHRpY1ByaXZhdGVLZXkocGVtKSB7XG4gICAgaWYgKCFwZW0uc3RhcnRzV2l0aChcIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVwiKSkge1xuICAgICAgICBwZW0gPSBcIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVwiICsgcGVtO1xuICAgIH1cbiAgICBpZiAoIXBlbS5lbmRzV2l0aChcIi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cIikpIHtcbiAgICAgICAgcGVtID0gcGVtICsgXCItLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXCI7XG4gICAgfVxuICAgIGNvbnN0IHBlbUhlYWRlciA9IFwiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXCI7XG4gICAgY29uc3QgcGVtRm9vdGVyID0gXCItLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXCI7XG4gICAgY29uc3QgcGVtX2NvbnRlbnRzID0gcGVtLnN1YnN0cmluZyhwZW1IZWFkZXIubGVuZ3RoLCBwZW0ubGVuZ3RoIC0gcGVtRm9vdGVyLmxlbmd0aCk7XG4gICAgY29uc3QgYmluYXJ5RGVyU3RyaW5nID0gYXRvYihwZW1fY29udGVudHMpO1xuICAgIGNvbnN0IGJpbmFyeURlciA9IHN0cjJhYihiaW5hcnlEZXJTdHJpbmcpO1xuICAgIHJldHVybiBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcInBrY3M4XCIsIGJpbmFyeURlciwge1xuICAgICAgICBuYW1lOiBcIkVDRFNBXCIsXG4gICAgICAgIGhhc2g6IFwiU0hBLTI1NlwiLFxuICAgICAgICBuYW1lZEN1cnZlOiBcIlAtNTIxXCJcbiAgICB9LCB0cnVlLCBbXCJzaWduXCJdKTtcbn1cbmZ1bmN0aW9uIHN0cjJhYihzdHIpIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoc3RyLmxlbmd0aCk7XG4gICAgY29uc3QgYnVmVmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgZm9yIChsZXQgaSA9IDAsIHN0ckxlbiA9IHN0ci5sZW5ndGg7IGkgPCBzdHJMZW47IGkrKykge1xuICAgICAgICBidWZWaWV3W2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG59XG5hc3luYyBmdW5jdGlvbiBWZXJpZnlKV1Qoand0X3N0cmluZywgcHVibGljX2tleSkge1xuICAgIGlmIChpc051bGxPcldoaXRlU3BhY2Uoand0X3N0cmluZykpIHtcbiAgICAgICAgdGhyb3cgXCJqd3QgaXMgbnVsbC5cIjtcbiAgICB9XG4gICAgaWYgKGlzTnVsbE9yV2hpdGVTcGFjZShwdWJsaWNfa2V5KSkge1xuICAgICAgICB0aHJvdyBcInB1YmxpY19rZXkgaXMgbnVsbCBvciB3aGl0ZXNwYWNlXCI7XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0tleVBlbSA9ICctLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxcbicgK1xuICAgICAgICBgJHtwdWJsaWNfa2V5fVxcbmAgK1xuICAgICAgICAnLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXFxuJztcbiAgICBjb25zdCBkZWNvZGVkX2RhdGEgPSBhd2FpdCBqd3QudmVyaWZ5KGp3dF9zdHJpbmcsIHB1YmxpY0tleVBlbSk7XG4gICAgcmV0dXJuIGRlY29kZWRfZGF0YTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpZ25KV1QoZGF0YSwgcHJpdmF0ZUtleVYpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhbGdvcml0aG06ICdFUzUxMicsXG4gICAgICAgIGNvbXBhY3Q6IHRydWUsXG4gICAgICAgIGZpZWxkczogeyB0eXA6ICdKV1QnIH1cbiAgICB9O1xuICAgIGNvbnN0IHByaXZhdGVLZXlQZW0gPSAnLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXFxuJyArXG4gICAgICAgIGAke3ByaXZhdGVLZXlWLnJlcGxhY2UoXCItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cIiwgXCJcIikucmVwbGFjZShcIi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cIiwgXCJcIil9XFxuYCArXG4gICAgICAgICctLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXFxuJztcbiAgICBjb25zdCBwcml2YXRlS2V5ID0gYXdhaXQgaW1wb3J0UEtDUzgocHJpdmF0ZUtleVBlbSwgXCJFUzUxMlwiKTtcbiAgICBjb25zdCBqd3QgPSBhd2FpdCBuZXcgU2lnbkpXVChkYXRhKSAvLyBFQ0RTQSB3aXRoIFAtNTIxIGN1cnZlXG4gICAgICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6ICdFUzUxMicgfSkgLy8gT3B0aW9uYWwgaWYgeW91IHdhbnQgdG8gc3BlY2lmeSBoZWFkZXJzXG4gICAgICAgIC5zaWduKHByaXZhdGVLZXkpO1xuICAgIHJldHVybiBqd3Q7XG59XG5hc3luYyBmdW5jdGlvbiBKU09Ob3JGb3JtKHZhcmlhYmxlKSB7XG4gICAgaWYgKHZhcmlhYmxlIGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgcmV0dXJuICdGb3JtRGF0YSc7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIGl0J3MgSlNPTlxuICAgIHRyeSB7XG4gICAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFyaWFibGUpKTtcbiAgICAgICAgcmV0dXJuICdKU09OJztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0X2Zvcm1kYXRhX2ZpZWxkX2hhc2goZmllbGQsIGJvZHkpIHtcbiAgICBsZXQgaGFzaEhleF9maWxlID0gbnVsbDtcbiAgICBpZiAoIWJvZHkuZ2V0KGZpZWxkKSkge1xuICAgICAgICB0aHJvdyBgYm9keSBub3QgcHJvdmlkZWQ6ICR7ZmllbGR9YDtcbiAgICB9XG4gICAgbGV0IGlzX2ZpbGUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBnZXRfZmlsZV9iaW5hcnkoYm9keS5nZXQoZmllbGQpKTtcbiAgICAgICAgaXNfZmlsZSA9IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkhNXCIsIGJvZHkuZ2V0KGZpZWxkKSk7XG4gICAgbGV0IGVuY29kaW5nO1xuICAgIGlmIChpc19maWxlID09IHRydWUpIHtcbiAgICAgICAgZW5jb2RpbmcgPSBhd2FpdCBnZXRfZmlsZV9iaW5hcnkoYm9keS5nZXQoZmllbGQpKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJFTkNPRElOR1wiLCBlbmNvZGluZyk7XG4gICAgY29uc3QgaGFzaERhdGFfZmlsZSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShlbmNvZGluZyk7XG4gICAgbGV0IGhhc2hCdWZmZXJfZmlsZSA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBoYXNoQnVmZmVyX2ZpbGUgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS01MTJcIiwgaGFzaERhdGFfZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGhhc2hCdWZmZXJfZmlsZSA9IGhhc2hCdWZmZXJfZmlsZSA9IGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS01MTJcIiwgaGFzaERhdGFfZmlsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyAnRmlsZVJlYWRlciBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuJztcbiAgICB9XG4gICAgY29uc3QgaGFzaEFycmF5X2ZpbGUgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXJfZmlsZSkpO1xuICAgIGhhc2hIZXhfZmlsZSA9IGhhc2hBcnJheV9maWxlLm1hcChieXRlID0+IGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuICAgIHJldHVybiBoYXNoSGV4X2ZpbGU7XG59XG5leHBvcnQgeyBpc051bGxPcldoaXRlU3BhY2UsIGdlbmVyYXRlUmFuZG9tSUQsIGltcG9ydEVsbGlwdGljUHVibGljS2V5LCBpbXBvcnRFbGxpcHRpY1ByaXZhdGVLZXksIHNpZ25KV1QsIFZlcmlmeUpXVCwgSlNPTm9yRm9ybSwgZ2V0X2Zvcm1kYXRhX2ZpZWxkX2hhc2ggfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/globals.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/index.js":
/*!*****************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticate: () => (/* reexport safe */ _authenticate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   fetch_wrapper: () => (/* reexport safe */ _fetch_wrapper_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   generate_new_credentials: () => (/* reexport safe */ _generate_new_credentials_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   get_file_binary: () => (/* reexport safe */ _file_binary_get_file_binary_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   get_jwt_payload_without_verification: () => (/* reexport safe */ _jwt_get_jwt_payload_without_verification_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   onboard_new_device: () => (/* reexport safe */ _onboard_new_device_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   sign: () => (/* reexport safe */ _sign_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   static_auth_sign: () => (/* reexport safe */ _static_auth_sign_static_auth_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   static_auth_verify: () => (/* reexport safe */ _static_auth_verify_static_auth_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _authenticate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./authenticate.js */ \"../../libraries/npm/node_modules/hades-auth/dist/authenticate.js\");\n/* harmony import */ var _fetch_wrapper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fetch_wrapper.js */ \"../../libraries/npm/node_modules/hades-auth/dist/fetch_wrapper.js\");\n/* harmony import */ var _onboard_new_device_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./onboard_new_device.js */ \"../../libraries/npm/node_modules/hades-auth/dist/onboard_new_device.js\");\n/* harmony import */ var _sign_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sign.js */ \"../../libraries/npm/node_modules/hades-auth/dist/sign.js\");\n/* harmony import */ var _generate_new_credentials_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./generate_new_credentials.js */ \"../../libraries/npm/node_modules/hades-auth/dist/generate_new_credentials.js\");\n/* harmony import */ var _jwt_get_jwt_payload_without_verification_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./jwt/get_jwt_payload_without_verification.js */ \"../../libraries/npm/node_modules/hades-auth/dist/jwt/get_jwt_payload_without_verification.js\");\n/* harmony import */ var _file_binary_get_file_binary_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./file/binary/get_file_binary.js */ \"../../libraries/npm/node_modules/hades-auth/dist/file/binary/get_file_binary.js\");\n/* harmony import */ var _static_auth_sign_static_auth_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./static_auth/sign_static_auth.js */ \"../../libraries/npm/node_modules/hades-auth/dist/static_auth/sign_static_auth.js\");\n/* harmony import */ var _static_auth_verify_static_auth_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./static_auth/verify_static_auth.js */ \"../../libraries/npm/node_modules/hades-auth/dist/static_auth/verify_static_auth.js\");\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QztBQUNFO0FBQ1U7QUFDNUI7QUFDd0M7QUFDNEI7QUFDbEM7QUFDRTtBQUNJO0FBQ21IIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9pbmRleC5qcz85MzM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhdXRoZW50aWNhdGUgZnJvbSBcIi4vYXV0aGVudGljYXRlLmpzXCI7XG5pbXBvcnQgZmV0Y2hfd3JhcHBlciBmcm9tIFwiLi9mZXRjaF93cmFwcGVyLmpzXCI7XG5pbXBvcnQgb25ib2FyZF9uZXdfZGV2aWNlIGZyb20gXCIuL29uYm9hcmRfbmV3X2RldmljZS5qc1wiO1xuaW1wb3J0IHNpZ24gZnJvbSBcIi4vc2lnbi5qc1wiO1xuaW1wb3J0IGdlbmVyYXRlX25ld19jcmVkZW50aWFscyBmcm9tIFwiLi9nZW5lcmF0ZV9uZXdfY3JlZGVudGlhbHMuanNcIjtcbmltcG9ydCBnZXRfand0X3BheWxvYWRfd2l0aG91dF92ZXJpZmljYXRpb24gZnJvbSBcIi4vand0L2dldF9qd3RfcGF5bG9hZF93aXRob3V0X3ZlcmlmaWNhdGlvbi5qc1wiO1xuaW1wb3J0IGdldF9maWxlX2JpbmFyeSBmcm9tIFwiLi9maWxlL2JpbmFyeS9nZXRfZmlsZV9iaW5hcnkuanNcIjtcbmltcG9ydCBzdGF0aWNfYXV0aF9zaWduIGZyb20gXCIuL3N0YXRpY19hdXRoL3NpZ25fc3RhdGljX2F1dGguanNcIjtcbmltcG9ydCBzdGF0aWNfYXV0aF92ZXJpZnkgZnJvbSBcIi4vc3RhdGljX2F1dGgvdmVyaWZ5X3N0YXRpY19hdXRoLmpzXCI7XG5leHBvcnQgeyBvbmJvYXJkX25ld19kZXZpY2UsIGdlbmVyYXRlX25ld19jcmVkZW50aWFscywgc2lnbiwgYXV0aGVudGljYXRlLCBmZXRjaF93cmFwcGVyLCBzdGF0aWNfYXV0aF9zaWduLCBzdGF0aWNfYXV0aF92ZXJpZnksIGdldF9qd3RfcGF5bG9hZF93aXRob3V0X3ZlcmlmaWNhdGlvbiwgZ2V0X2ZpbGVfYmluYXJ5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/index.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/jwt/get_jwt_payload_without_verification.js":
/*!****************************************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/jwt/get_jwt_payload_without_verification.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ get_jwt_payload_without_verification)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"../../libraries/npm/node_modules/jsonwebtoken/index.js\");\n\nfunction get_jwt_payload_without_verification(jwt_string) {\n    try {\n        const decodedPayload = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.decode(jwt_string, { complete: true });\n        if (decodedPayload) {\n            return decodedPayload.payload;\n        }\n        else {\n            throw \"Invalid JWT\";\n        }\n    }\n    catch (error) {\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L2p3dC9nZXRfand0X3BheWxvYWRfd2l0aG91dF92ZXJpZmljYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0M7QUFDckI7QUFDZjtBQUNBLCtCQUErQixnREFBVSxlQUFlLGdCQUFnQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9qd3QvZ2V0X2p3dF9wYXlsb2FkX3dpdGhvdXRfdmVyaWZpY2F0aW9uLmpzPzYxZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRfand0X3BheWxvYWRfd2l0aG91dF92ZXJpZmljYXRpb24oand0X3N0cmluZykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWRQYXlsb2FkID0gand0LmRlY29kZShqd3Rfc3RyaW5nLCB7IGNvbXBsZXRlOiB0cnVlIH0pO1xuICAgICAgICBpZiAoZGVjb2RlZFBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVkUGF5bG9hZC5wYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgXCJJbnZhbGlkIEpXVFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/jwt/get_jwt_payload_without_verification.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/onboard_new_device.js":
/*!******************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/onboard_new_device.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ onboard_new_device)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"../../libraries/npm/node_modules/hades-auth/dist/globals.js\");\n\nasync function onboard_new_device(public_key) {\n    if ((0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.isNullOrWhiteSpace)(public_key)) {\n        throw `public_key is null or whitespace.`;\n    }\n    const deviceid = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.generateRandomID)();\n    const publickeyimport = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.importEllipticPublicKey)(`-----BEGIN PUBLIC KEY-----\n${public_key}\n-----END PUBLIC KEY-----`);\n    if (publickeyimport.usages[0] != \"verify\" || publickeyimport.usages.length != 1) {\n        throw 'Public key usages array must be [\"sign\", \"verify\"]';\n    }\n    if (!publickeyimport.algorithm || publickeyimport.algorithm.name != \"ECDSA\") {\n        throw \"Algorithm name must be ECDSA\";\n    }\n    // if (!publickeyimport.algorithm || publickeyimport.algorithm.namedCurve != \"P-521\") {\n    //     throw \"namedCurve must be P-521.\";\n    // }\n    if (publickeyimport.type != \"public\") {\n        throw \"Key type MUST be public key. It is extremely insecure to surrender your private authentication key. You should consider the provided RSA key compromised, please generate a new key.\";\n    }\n    return { ok: true, deviceid: deviceid };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L29uYm9hcmRfbmV3X2RldmljZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2RjtBQUM5RTtBQUNmLFFBQVEsK0RBQWtCO0FBQzFCO0FBQ0E7QUFDQSwyQkFBMkIsNkRBQWdCO0FBQzNDLGtDQUFrQyxvRUFBdUI7QUFDekQsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9vbmJvYXJkX25ld19kZXZpY2UuanM/ZWQ3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVJhbmRvbUlELCBpbXBvcnRFbGxpcHRpY1B1YmxpY0tleSwgaXNOdWxsT3JXaGl0ZVNwYWNlIH0gZnJvbSBcIi4vZ2xvYmFscy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gb25ib2FyZF9uZXdfZGV2aWNlKHB1YmxpY19rZXkpIHtcbiAgICBpZiAoaXNOdWxsT3JXaGl0ZVNwYWNlKHB1YmxpY19rZXkpKSB7XG4gICAgICAgIHRocm93IGBwdWJsaWNfa2V5IGlzIG51bGwgb3Igd2hpdGVzcGFjZS5gO1xuICAgIH1cbiAgICBjb25zdCBkZXZpY2VpZCA9IGF3YWl0IGdlbmVyYXRlUmFuZG9tSUQoKTtcbiAgICBjb25zdCBwdWJsaWNrZXlpbXBvcnQgPSBhd2FpdCBpbXBvcnRFbGxpcHRpY1B1YmxpY0tleShgLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbiR7cHVibGljX2tleX1cbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLWApO1xuICAgIGlmIChwdWJsaWNrZXlpbXBvcnQudXNhZ2VzWzBdICE9IFwidmVyaWZ5XCIgfHwgcHVibGlja2V5aW1wb3J0LnVzYWdlcy5sZW5ndGggIT0gMSkge1xuICAgICAgICB0aHJvdyAnUHVibGljIGtleSB1c2FnZXMgYXJyYXkgbXVzdCBiZSBbXCJzaWduXCIsIFwidmVyaWZ5XCJdJztcbiAgICB9XG4gICAgaWYgKCFwdWJsaWNrZXlpbXBvcnQuYWxnb3JpdGhtIHx8IHB1YmxpY2tleWltcG9ydC5hbGdvcml0aG0ubmFtZSAhPSBcIkVDRFNBXCIpIHtcbiAgICAgICAgdGhyb3cgXCJBbGdvcml0aG0gbmFtZSBtdXN0IGJlIEVDRFNBXCI7XG4gICAgfVxuICAgIC8vIGlmICghcHVibGlja2V5aW1wb3J0LmFsZ29yaXRobSB8fCBwdWJsaWNrZXlpbXBvcnQuYWxnb3JpdGhtLm5hbWVkQ3VydmUgIT0gXCJQLTUyMVwiKSB7XG4gICAgLy8gICAgIHRocm93IFwibmFtZWRDdXJ2ZSBtdXN0IGJlIFAtNTIxLlwiO1xuICAgIC8vIH1cbiAgICBpZiAocHVibGlja2V5aW1wb3J0LnR5cGUgIT0gXCJwdWJsaWNcIikge1xuICAgICAgICB0aHJvdyBcIktleSB0eXBlIE1VU1QgYmUgcHVibGljIGtleS4gSXQgaXMgZXh0cmVtZWx5IGluc2VjdXJlIHRvIHN1cnJlbmRlciB5b3VyIHByaXZhdGUgYXV0aGVudGljYXRpb24ga2V5LiBZb3Ugc2hvdWxkIGNvbnNpZGVyIHRoZSBwcm92aWRlZCBSU0Ega2V5IGNvbXByb21pc2VkLCBwbGVhc2UgZ2VuZXJhdGUgYSBuZXcga2V5LlwiO1xuICAgIH1cbiAgICByZXR1cm4geyBvazogdHJ1ZSwgZGV2aWNlaWQ6IGRldmljZWlkIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/onboard_new_device.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/sign.js":
/*!****************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/sign.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ sign)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"../../libraries/npm/node_modules/hades-auth/dist/globals.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\nasync function sign(metadata, body, private_key, only_use_field_for_body) {\n    let keys = [];\n    let unsorted_data = {};\n    unsorted_data = {\n        ...metadata\n    };\n    if (body) {\n        let hashHex = null;\n        let hashHex_file = null;\n        const jsonOrFormV = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.JSONorForm)(body);\n        const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHash('sha512');\n        if (jsonOrFormV == \"JSON\") {\n            hash.update(JSON.stringify(body));\n        }\n        else if (jsonOrFormV != \"FormData\") {\n            hash.update(body);\n        }\n        const body_output_sha512_checksum = hash.digest('hex');\n        hashHex = body_output_sha512_checksum;\n        if (jsonOrFormV == \"FormData\" && only_use_field_for_body) {\n            hashHex_file = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.get_formdata_field_hash)(only_use_field_for_body, body);\n        }\n        unsorted_data = {\n            ...unsorted_data,\n            body_sha512: hashHex,\n        };\n        if (only_use_field_for_body) {\n            unsorted_data = {\n                ...unsorted_data,\n                // just_file_sha512: hashHex_file // doesn't look like this is needed.\n            };\n        }\n    }\n    keys = Object.keys(unsorted_data).sort();\n    let data = {};\n    await keys.forEach((key) => {\n        data[key] = unsorted_data[key];\n    });\n    console.log(\"BODY\", JSON.stringify(body));\n    const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHash('sha512');\n    hash.update(JSON.stringify(data));\n    const output_sha512_checksum = hash.digest('hex');\n    let jwt_data = {\n        checksum: output_sha512_checksum,\n        exp: new Date().getTime() + 31536000000,\n        body_checksum: data.body_sha512,\n        just_file_sha512: data.just_file_sha512\n    };\n    let jwt = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.signJWT)(jwt_data, private_key);\n    return { metadata: data, body: body, jwt: jwt };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L3NpZ24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRFO0FBQzNDO0FBQ2xCO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1REFBVTtBQUM1QyxxQkFBcUIsOENBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxvRUFBdUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQkFBaUIsOENBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQU87QUFDM0IsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9zaWduLmpzPzZkNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSlNPTm9yRm9ybSwgZ2V0X2Zvcm1kYXRhX2ZpZWxkX2hhc2gsIHNpZ25KV1QgfSBmcm9tIFwiLi9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgKiBhcyBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHNpZ24obWV0YWRhdGEsIGJvZHksIHByaXZhdGVfa2V5LCBvbmx5X3VzZV9maWVsZF9mb3JfYm9keSkge1xuICAgIGxldCBrZXlzID0gW107XG4gICAgbGV0IHVuc29ydGVkX2RhdGEgPSB7fTtcbiAgICB1bnNvcnRlZF9kYXRhID0ge1xuICAgICAgICAuLi5tZXRhZGF0YVxuICAgIH07XG4gICAgaWYgKGJvZHkpIHtcbiAgICAgICAgbGV0IGhhc2hIZXggPSBudWxsO1xuICAgICAgICBsZXQgaGFzaEhleF9maWxlID0gbnVsbDtcbiAgICAgICAgY29uc3QganNvbk9yRm9ybVYgPSBhd2FpdCBKU09Ob3JGb3JtKGJvZHkpO1xuICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTUxMicpO1xuICAgICAgICBpZiAoanNvbk9yRm9ybVYgPT0gXCJKU09OXCIpIHtcbiAgICAgICAgICAgIGhhc2gudXBkYXRlKEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChqc29uT3JGb3JtViAhPSBcIkZvcm1EYXRhXCIpIHtcbiAgICAgICAgICAgIGhhc2gudXBkYXRlKGJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHlfb3V0cHV0X3NoYTUxMl9jaGVja3N1bSA9IGhhc2guZGlnZXN0KCdoZXgnKTtcbiAgICAgICAgaGFzaEhleCA9IGJvZHlfb3V0cHV0X3NoYTUxMl9jaGVja3N1bTtcbiAgICAgICAgaWYgKGpzb25PckZvcm1WID09IFwiRm9ybURhdGFcIiAmJiBvbmx5X3VzZV9maWVsZF9mb3JfYm9keSkge1xuICAgICAgICAgICAgaGFzaEhleF9maWxlID0gYXdhaXQgZ2V0X2Zvcm1kYXRhX2ZpZWxkX2hhc2gob25seV91c2VfZmllbGRfZm9yX2JvZHksIGJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHVuc29ydGVkX2RhdGEgPSB7XG4gICAgICAgICAgICAuLi51bnNvcnRlZF9kYXRhLFxuICAgICAgICAgICAgYm9keV9zaGE1MTI6IGhhc2hIZXgsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvbmx5X3VzZV9maWVsZF9mb3JfYm9keSkge1xuICAgICAgICAgICAgdW5zb3J0ZWRfZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAuLi51bnNvcnRlZF9kYXRhLFxuICAgICAgICAgICAgICAgIC8vIGp1c3RfZmlsZV9zaGE1MTI6IGhhc2hIZXhfZmlsZSAvLyBkb2Vzbid0IGxvb2sgbGlrZSB0aGlzIGlzIG5lZWRlZC5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHVuc29ydGVkX2RhdGEpLnNvcnQoKTtcbiAgICBsZXQgZGF0YSA9IHt9O1xuICAgIGF3YWl0IGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGRhdGFba2V5XSA9IHVuc29ydGVkX2RhdGFba2V5XTtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhcIkJPRFlcIiwgSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xuICAgIGNvbnN0IGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhNTEyJyk7XG4gICAgaGFzaC51cGRhdGUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIGNvbnN0IG91dHB1dF9zaGE1MTJfY2hlY2tzdW0gPSBoYXNoLmRpZ2VzdCgnaGV4Jyk7XG4gICAgbGV0IGp3dF9kYXRhID0ge1xuICAgICAgICBjaGVja3N1bTogb3V0cHV0X3NoYTUxMl9jaGVja3N1bSxcbiAgICAgICAgZXhwOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDMxNTM2MDAwMDAwLFxuICAgICAgICBib2R5X2NoZWNrc3VtOiBkYXRhLmJvZHlfc2hhNTEyLFxuICAgICAgICBqdXN0X2ZpbGVfc2hhNTEyOiBkYXRhLmp1c3RfZmlsZV9zaGE1MTJcbiAgICB9O1xuICAgIGxldCBqd3QgPSBhd2FpdCBzaWduSldUKGp3dF9kYXRhLCBwcml2YXRlX2tleSk7XG4gICAgcmV0dXJuIHsgbWV0YWRhdGE6IGRhdGEsIGJvZHk6IGJvZHksIGp3dDogand0IH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/sign.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/static_auth/sign_static_auth.js":
/*!****************************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/static_auth/sign_static_auth.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ static_auth_sign)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globals.js */ \"../../libraries/npm/node_modules/hades-auth/dist/globals.js\");\n\nasync function static_auth_sign(additional_data, private_key) {\n    let jwt_data = {\n        additional_data: additional_data,\n        created: new Date().getTime(),\n        exp: new Date().getTime() + 31536000000\n    };\n    let jwt = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.signJWT)(jwt_data, private_key);\n    return jwt;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L3N0YXRpY19hdXRoL3NpZ25fc3RhdGljX2F1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0M7QUFDekI7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9EQUFPO0FBQzNCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L3N0YXRpY19hdXRoL3NpZ25fc3RhdGljX2F1dGguanM/NTNlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaWduSldUIH0gZnJvbSBcIi4uL2dsb2JhbHMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHN0YXRpY19hdXRoX3NpZ24oYWRkaXRpb25hbF9kYXRhLCBwcml2YXRlX2tleSkge1xuICAgIGxldCBqd3RfZGF0YSA9IHtcbiAgICAgICAgYWRkaXRpb25hbF9kYXRhOiBhZGRpdGlvbmFsX2RhdGEsXG4gICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICBleHA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgMzE1MzYwMDAwMDBcbiAgICB9O1xuICAgIGxldCBqd3QgPSBhd2FpdCBzaWduSldUKGp3dF9kYXRhLCBwcml2YXRlX2tleSk7XG4gICAgcmV0dXJuIGp3dDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/static_auth/sign_static_auth.js\n");

/***/ }),

/***/ "../../libraries/npm/node_modules/hades-auth/dist/static_auth/verify_static_auth.js":
/*!******************************************************************************************!*\
  !*** ../../libraries/npm/node_modules/hades-auth/dist/static_auth/verify_static_auth.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ static_auth_verify)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globals.js */ \"../../libraries/npm/node_modules/hades-auth/dist/globals.js\");\n\nasync function static_auth_verify(jwt, public_key, expiry) {\n    // 2592000000 (if a default expiry is setup in the future, this is the milliseconds for 30 days)\n    try {\n        JSON.parse(jwt);\n    }\n    catch (error) {\n        // auth_generation is not valid JSON.\n        throw \"JWT payload is not valid JSON\";\n    }\n    const jwt_data = JSON.parse(jwt);\n    if (!jwt_data) {\n        throw \"JWT payload is missing.\";\n    }\n    if (!jwt_data.deviceid) {\n        throw \"jwt.deviceid is missing.\";\n    }\n    if (jwt_data.created > 0) {\n        throw \"jwt.created must be above 0\";\n    }\n    let date1 = jwt_data.created;\n    let date2 = new Date().getTime();\n    if (date2 < date1) {\n        throw \"jwt.created is before current date.\";\n    }\n    let diff = date2 - date1;\n    if (!diff && diff != 0) {\n        throw \"Invalid date.\";\n    }\n    if (diff >= expiry) {\n        throw \"JWT is expired.\";\n    }\n    const payload = await (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.VerifyJWT)(jwt, public_key); // This will throw an error if invalid.;\n    let result = null;\n    if (payload && typeof payload == \"object\" && payload.additional_data) {\n        result = payload.additional_data;\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbGlicmFyaWVzL25wbS9ub2RlX21vZHVsZXMvaGFkZXMtYXV0aC9kaXN0L3N0YXRpY19hdXRoL3ZlcmlmeV9zdGF0aWNfYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQztBQUMzQjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzREFBUyxtQkFBbUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2xpYnJhcmllcy9ucG0vbm9kZV9tb2R1bGVzL2hhZGVzLWF1dGgvZGlzdC9zdGF0aWNfYXV0aC92ZXJpZnlfc3RhdGljX2F1dGguanM/MzhmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZXJpZnlKV1QgfSBmcm9tIFwiLi4vZ2xvYmFscy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gc3RhdGljX2F1dGhfdmVyaWZ5KGp3dCwgcHVibGljX2tleSwgZXhwaXJ5KSB7XG4gICAgLy8gMjU5MjAwMDAwMCAoaWYgYSBkZWZhdWx0IGV4cGlyeSBpcyBzZXR1cCBpbiB0aGUgZnV0dXJlLCB0aGlzIGlzIHRoZSBtaWxsaXNlY29uZHMgZm9yIDMwIGRheXMpXG4gICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZShqd3QpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gYXV0aF9nZW5lcmF0aW9uIGlzIG5vdCB2YWxpZCBKU09OLlxuICAgICAgICB0aHJvdyBcIkpXVCBwYXlsb2FkIGlzIG5vdCB2YWxpZCBKU09OXCI7XG4gICAgfVxuICAgIGNvbnN0IGp3dF9kYXRhID0gSlNPTi5wYXJzZShqd3QpO1xuICAgIGlmICghand0X2RhdGEpIHtcbiAgICAgICAgdGhyb3cgXCJKV1QgcGF5bG9hZCBpcyBtaXNzaW5nLlwiO1xuICAgIH1cbiAgICBpZiAoIWp3dF9kYXRhLmRldmljZWlkKSB7XG4gICAgICAgIHRocm93IFwiand0LmRldmljZWlkIGlzIG1pc3NpbmcuXCI7XG4gICAgfVxuICAgIGlmIChqd3RfZGF0YS5jcmVhdGVkID4gMCkge1xuICAgICAgICB0aHJvdyBcImp3dC5jcmVhdGVkIG11c3QgYmUgYWJvdmUgMFwiO1xuICAgIH1cbiAgICBsZXQgZGF0ZTEgPSBqd3RfZGF0YS5jcmVhdGVkO1xuICAgIGxldCBkYXRlMiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmIChkYXRlMiA8IGRhdGUxKSB7XG4gICAgICAgIHRocm93IFwiand0LmNyZWF0ZWQgaXMgYmVmb3JlIGN1cnJlbnQgZGF0ZS5cIjtcbiAgICB9XG4gICAgbGV0IGRpZmYgPSBkYXRlMiAtIGRhdGUxO1xuICAgIGlmICghZGlmZiAmJiBkaWZmICE9IDApIHtcbiAgICAgICAgdGhyb3cgXCJJbnZhbGlkIGRhdGUuXCI7XG4gICAgfVxuICAgIGlmIChkaWZmID49IGV4cGlyeSkge1xuICAgICAgICB0aHJvdyBcIkpXVCBpcyBleHBpcmVkLlwiO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgVmVyaWZ5SldUKGp3dCwgcHVibGljX2tleSk7IC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiBpbnZhbGlkLjtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICBpZiAocGF5bG9hZCAmJiB0eXBlb2YgcGF5bG9hZCA9PSBcIm9iamVjdFwiICYmIHBheWxvYWQuYWRkaXRpb25hbF9kYXRhKSB7XG4gICAgICAgIHJlc3VsdCA9IHBheWxvYWQuYWRkaXRpb25hbF9kYXRhO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../libraries/npm/node_modules/hades-auth/dist/static_auth/verify_static_auth.js\n");

/***/ })

};
;